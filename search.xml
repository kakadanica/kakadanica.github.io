<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ES6 Moudle在项目中的用法研究]]></title>
    <url>%2F2018%2F04%2F04%2FES6-Moudle%E5%9C%A8%E9%A1%B9%E7%9B%AE%E4%B8%AD%E7%9A%84%E7%94%A8%E6%B3%95%E7%A0%94%E7%A9%B6%2F</url>
    <content type="text"><![CDATA[前置条件3月份我和一位做技术的朋友聊天。这人不修边幅，油腻腻的，典型的程序员形象。但是就这样一个人，从他喉咙里出来的每个技术名词，都将我KO得无地自容。回忆一段对话如下：-你知道ES6吗？-我知道。-你用的多吗？-现在的项目里在用（内心：其实就用了箭头函数）…-那你知道babel吗？-…那是什么？接着对方使用了unbelievable? excuse me? WTF?等词汇的肢体语言回复了我这个问题，I see 我们对于彼此此刻的judge已经成型了。 回到办公室，搜索了一下babel，是一个超级简单0难度的工具，人生啊，很少机会给你碰到死在一个庞然大物的践踏下，死在星球毁灭人类灭亡的历史中…我的这种死法，太不壮观了，太尴尬了，我死于安逸。 Babel 是一个 JavaScript 编译器。将下一代JavaScript代码转换成浏览器兼容的JavaScript代码。我和我的团队，长久的使用浏览器兼容的JavaScript代码，生活在自己构筑的稳定世界中，是时候伸出头看看这个世界了。 本文的中心之前的文章《使用闭包函数优化思维，重构代码》中，有对es6的箭头函数进行了尝试运用，并已经使用在现在的项目中，加上我也过了一遍前辈阮一峰先生的《ES6标准入门（第三版）》电子版，所以es6的一些使用特性，新增的方法属性那些一定是需要你在使用的过程中进行日积月累，因此本文的中心，我focus到我比较关心的module，这是之前js不具备的功能。 es6 module 概述摘抄一段：历史上，JavaScript 一直没有模块（module）体系，无法将一个大程序拆分成互相依赖的小文件，再用简单的方法拼装起来。其他语言都有这项功能，比如 Ruby 的require、Python 的import，甚至就连 CSS 都有@import，但是 JavaScript 任何这方面的支持都没有，这对开发大型的、复杂的项目形成了巨大障碍。在 ES6 之前，社区制定了一些模块加载方案，最主要的有 CommonJS 和 AMD 两种。前者用于服务器，后者用于浏览器。ES6 在语言标准的层面上，实现了模块功能，而且实现得相当简单，完全可以取代 CommonJS 和 AMD 规范，成为浏览器和服务器通用的模块解决方案。我一定要学会的理由：我没有用过学过CommonJS 和 AMD，直接学ES6 Moudle一次取代两项技能，怎么都觉得自己赚了，嘤嘤嘤。 语法和使用export &amp; importexport命令用于规定模块的对外接口import命令用于输入其它模块提供的功能一个模块（module）就是一个独立的文件，该文件内部的所有变量，外部无法获取，如果希望外部能够读取模块内部的某个变量，就必须使用export关键字输出该变量。外部文件就得使用import命令加载这个模块的接口 export语法简略 export 命令处于模块文件顶层，不出现在块级作用域内。 export 可输出变量，函数和类 export 可自定义输出的变量或者函数的名字 12345678910111213141516171819202122232425262728293031323334353637// 输出单个变量，把export 关键字放在变量定义之前，如下：export let a = 1;export let b = 2;// 或者如下输出单个变量，语法强调大括号是必须存在的: export的目的是输出接口，必须和模块内的变量建立一一的对应let c = 1;export &#123;c&#125;// 基于上面的语法释义，输出多个变量如下：let d = 1, e = 2;export &#123;d, e&#125;;// 简单吧，输出函数和类的原则同上// 输出单个函数或类export function v1() &#123; ... &#125;export class c1 &#123; ... &#125;// 或者function v2() &#123; ... &#125;class c2 &#123;&#125;export &#123;v2&#125;;export &#123;c2&#125;;// 输出多个函数或类function v3() &#123; ... &#125;function v4() &#123; ... &#125;class c3 &#123; ... &#125;class c4 &#123; ... &#125;export &#123;v3, v4, c3, c4&#125;// 自定义输出命名let f = &apos;f&apos;;function v5() &#123; ... &#125;class c5 &#123;&#125;export &#123; f as varibleF, v5 as functionV5, c5 as classC5&#125; import 语法简略 导入就是导入，记住语法就行了，不要多想乱写，如下import {接口1, 接口2, 接口3, … 接口n} from ‘模块文件路径’ 我并不会再多说其它什么了，睁大眼睛看好记住，这就是import的语法。 小试牛刀 创建一个小项目如图，项目中包含两个文件a.mjs, b.mjs(mjs后缀，我们这里理解为module javascript)。 我们在a.mjs中使用export语法输出接口，代码如下 12345678910let name = &apos;Xiao Nai Miao&apos;, describle = &apos;she has been falling in mad love with a guy&apos;;function getGuyInfo() &#123; return &#123; name: &apos;Xiao Nai Gou&apos;, describle: &apos;sooooooo sweet and charming~&apos; &#125;&#125;export &#123;name, describle, getGuyInfo&#125;; 我们在b.mjs中使用import语法接收a模块的输出接口,并且使用这些接口对象 1234import &#123;name, describle, getGuyInfo&#125; from &apos;./a.mjs&apos;;console.info(&apos;A girl’s name is &apos; + name + &apos;, and &apos; + describle + &apos; named &apos; + getGuyInfo().name + &apos; , because &apos; + getGuyInfo().name + &apos; is &apos; + getGuyInfo().describle); 目前我学会的使用方式1) nodejs 加载首先你的确保你本地的nodejs是最新的版本，使用node -v查看版本号，我的是v9.10.1最新的nodejs版本已经开始支持es6 module, 但是它要求你的module文件后缀名是‘mjs’,因此从一开始创建项目我就遵循了这个规则现在我们在cmd进入创建项目【es6-module】的根目录，键入node运行es6 module 的如下命令： 1node --experimental-modules b.mjs 因为我们在b.mjs导入了a.mjs的借口，并使用了它的数据，所以我们执行b.mjs文件。 执行结果如下： A girl’s name is Xiao Nai Miao, and she has been falling in mad love with a guy named Xiao Nai Gou , because Xiao Nai Gou is sooooooo sweet and charming~ YES! 看来我们成功了！ 2) es6模块转码之ES6 module transpilerES6 module transpiler是 square 公司开源的一个转码器，可以将 ES6 模块转为 CommonJS 模块或 AMD 模块的写法，从而在浏览器中使用。 首先，在本地安装这个转码器。 $ npm install -g es6-module-transpiler 然后，使用compile-modules convert命令，将 ES6 模块文件转码。-o参数可以指定转码后的文件名。 $ compile-modules convert -o out.js file1.js 现在我们在cmd进入创建项目【es6-module】的根目录，按照上面的转码语法，键入如下命令并且回车： 1compile-modules convert -o index.js b.mjs 这句命令的意思将b.mjs转码成新的文件，它的名字我命名为index.js 没有任何报错信息表示转码成功，这个时候你去看你的项目目录,将会显示转码成功后的index.js。 打开index.js文件，它合并了a.mjs和b.mjs, 变成了我们熟悉的es5的味道。如下：1234567891011121314151617(function() &#123; &quot;use strict&quot;; let $$a$mjs$$name = &apos;Xiao Nai Miao&apos;, $$a$mjs$$describle = &apos;she has been falling in mad love with a guy&apos;; function $$a$mjs$$getGuyInfo() &#123; return &#123; name: &apos;Xiao Nai Gou&apos;, describle: &apos;sooooooo sweet and charming~&apos; &#125; &#125; console.info(&apos;A girl’s name is &apos; + $$a$mjs$$name + &apos;, and &apos; + $$a$mjs$$describle + &apos; named &apos; + $$a$mjs$$getGuyInfo().name + &apos; , because &apos; + $$a$mjs$$getGuyInfo().name + &apos; is &apos; + $$a$mjs$$getGuyInfo().describle);&#125;).call(this);//# sourceMappingURL=index.js.map这个文件可以被任意的浏览器识别和运行，是的，就那么简单！ 未完待续到这里，es6 moudle 算是初步入门了，后面的路且长，愿在实践中获得成长。]]></content>
  </entry>
  <entry>
    <title><![CDATA[百度地图api使用-区域网格管理]]></title>
    <url>%2F2018%2F02%2F28%2F%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BEapi%E4%BD%BF%E7%94%A8-%E5%8C%BA%E5%9F%9F%E7%BD%91%E6%A0%BC%E7%AE%A1%E7%90%86%2F</url>
    <content type="text"><![CDATA[说明及效果图在地图上高亮显示成都市的行政区域切换高亮显示行政区域在行政区域添加自定义的中心点以及网格范围 使用技术laytpl, jquery, es6 interesting point 判断一个点是否在一个不规则多边形内，使用射线法 basic js is very useful！ 给对象绑定属性和方法如下：1234BMap.Polygon.prototype.datas = &#123;&#125;;BMap.Polygon.prototype.setDatas = function(datas) &#123; this.datas = datas;&#125;; 面向对象开发，能有效使你脑壳不晕。 代码1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;div class=&quot;wrapper-content&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-sm-12&quot;&gt; &lt;div class=&quot;bdmap-area&quot;&gt; &lt;div class=&quot;zoom-operation&quot;&gt; &lt;div class=&quot;left-opers&quot;&gt; &lt;a class=&quot;fa fa-list toggle-region-grid-list&quot;&gt;&amp;nbsp;网格区域列表&lt;/a&gt; &lt;div class=&quot;fold-grid-region-list hide&quot; id=&quot;grid-region-distribute-view&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;rgt-opers&quot;&gt; &lt;button class=&quot;btn btn-primary add-marker&quot;&gt;添加网格区域&lt;/button&gt; &lt;button class=&quot;btn btn-primary save-region-grid hide&quot;&gt;保存&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=&quot;container&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;wrapper-content hide&quot; id=&quot;grid-region-form&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-sm-12&quot;&gt; &lt;form method=&quot;get&quot; class=&quot;form-horizontal&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;id&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;regionId&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label class=&quot;col-sm-3 control-label&quot;&gt;网格区域名称&lt;/label&gt; &lt;div class=&quot;col-sm-9&quot;&gt; &lt;input class=&quot;form-control&quot; placeholder=&quot;输入网格区域名称&quot; type=&quot;text&quot; name=&quot;name&quot; value=&quot;&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label class=&quot;col-sm-3 control-label&quot;&gt;负责人&lt;/label&gt; &lt;div class=&quot;col-sm-9&quot;&gt; &lt;input class=&quot;form-control&quot; placeholder=&quot;请选择一个负责人&quot; type=&quot;text&quot; name=&quot;chargePerson&quot; value=&quot;&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;div class=&quot;col-sm-4 col-sm-offset-3&quot;&gt; &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;&gt;去地图上选点&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;script&gt;$(&apos;#container&apos;).css(&apos;height&apos;, ($(window).height() - 140) + &apos;px&apos;);GridRegionUtil.init(&#123; containerId: &apos;container&apos;, gridRegions: JSON.parse(&apos;[&#123;&quot;region&quot;:&#123;&quot;id&quot;:5,&quot;name&quot;:&quot;青羊区&quot;&#125;,&quot;relates&quot;:[&#123;&quot;id&quot;:1,&quot;name&quot;:&quot;文家路社区&quot;,&quot;chargePerson&quot;:&quot;李丹&quot;,&quot;point&quot;:&#123;&quot;lng&quot;:103.954011,&quot;lat&quot;:30.685222&#125;,&quot;gridPoints&quot;:[&#123;&quot;lng&quot;:103.95601099999999,&quot;lat&quot;:30.687222&#125;,&#123;&quot;lng&quot;:103.952011,&quot;lat&quot;:30.687222&#125;,&#123;&quot;lng&quot;:103.952011,&quot;lat&quot;:30.683222&#125;,&#123;&quot;lng&quot;:103.95601099999999,&quot;lat&quot;:30.683222&#125;,&#123;&quot;lng&quot;:103.961988,&quot;lat&quot;:30.685067&#125;,&#123;&quot;lng&quot;:103.95601099999999,&quot;lat&quot;:30.687222&#125;]&#125;]&#125;,&#123;&quot;region&quot;:&#123;&quot;id&quot;:1,&quot;name&quot;:&quot;金牛区&quot;&#125;,&quot;relates&quot;:[&#123;&quot;id&quot;:2,&quot;name&quot;:&quot;呵呵哒社区&quot;,&quot;chargePerson&quot;:&quot;李丹&quot;,&quot;point&quot;:&#123;&quot;lng&quot;:104.023396,&quot;lat&quot;:30.721085&#125;,&quot;gridPoints&quot;:[&#123;&quot;lng&quot;:104.025396,&quot;lat&quot;:30.723084999999998&#125;,&#123;&quot;lng&quot;:104.023468,&quot;lat&quot;:30.727263&#125;,&#123;&quot;lng&quot;:104.02139600000001,&quot;lat&quot;:30.723084999999998&#125;,&#123;&quot;lng&quot;:104.010999,&quot;lat&quot;:30.720992&#125;,&#123;&quot;lng&quot;:104.02139600000001,&quot;lat&quot;:30.719085&#125;,&#123;&quot;lng&quot;:104.024079,&quot;lat&quot;:30.710498&#125;,&#123;&quot;lng&quot;:104.025396,&quot;lat&quot;:30.719085&#125;,&#123;&quot;lng&quot;:104.035074,&quot;lat&quot;:30.720713&#125;,&#123;&quot;lng&quot;:104.025396,&quot;lat&quot;:30.723084999999998&#125;]&#125;]&#125;,&#123;&quot;region&quot;:&#123;&quot;id&quot;:3,&quot;name&quot;:&quot;锦江区&quot;&#125;,&quot;relates&quot;:[&#123;&quot;id&quot;:3,&quot;name&quot;:&quot;天啦噜社区&quot;,&quot;chargePerson&quot;:&quot;李丹&quot;,&quot;point&quot;:&#123;&quot;lng&quot;:104.093697,&quot;lat&quot;:30.65301&#125;,&quot;gridPoints&quot;:[&#123;&quot;lng&quot;:104.092278,&quot;lat&quot;:30.662221&#125;,&#123;&quot;lng&quot;:104.079944,&quot;lat&quot;:30.658716&#125;,&#123;&quot;lng&quot;:104.080402,&quot;lat&quot;:30.652233&#125;,&#123;&quot;lng&quot;:104.084912,&quot;lat&quot;:30.650974&#125;,&#123;&quot;lng&quot;:104.09429,&quot;lat&quot;:30.646252&#125;,&#123;&quot;lng&quot;:104.097434,&quot;lat&quot;:30.640768&#125;,&#123;&quot;lng&quot;:104.1078,&quot;lat&quot;:30.653709&#125;,&#123;&quot;lng&quot;:104.09508,&quot;lat&quot;:30.658928&#125;,&#123;&quot;lng&quot;:104.092278,&quot;lat&quot;:30.662221&#125;]&#125;]&#125;]&apos;)&#125;)&lt;/script&gt; js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537let GridRegionUtil = (function() &#123; let mp = null, opers = null, geoLocation = new BMap.Geolocation(), geoc = new BMap.Geocoder(), centerPoint = null, bdary = new BMap.Boundary(), i = 0, j = 0, city = &apos;&apos;, regions = [], colors = [], isMarker = false, latestMarkerInfo = null, latestMarkerPoint = null, latestPolygon = null, gridRegions = [], tpl = null, view = null, loadType = 1, scrollFunc = function(e) &#123; e=e || window.event; if (parseInt(mp.getZoom()) &gt;= 15) &#123; $(&apos;.add-marker&apos;).removeClass(&apos;hide&apos;); $(&apos;.save-region-grid&apos;).addClass(&apos;hide&apos;); if (loadType == 1) &#123; loadGridRegions(); loadType = 2; &#125; &#125; else &#123; $(&apos;.add-marker&apos;).addClass(&apos;hide&apos;); $(&apos;.save-region-grid&apos;).addClass(&apos;hide&apos;); isMarker = false; if (loadType == 2) &#123; loadGridRegions(); loadType = 1; &#125; &#125; &#125;, setBasicDatas = function() &#123; city = &apos;成都市&apos;; regions.push(&#123; id: 1, name: &apos;金牛区&apos; &#125;); regions.push(&#123; id: 2, name: &apos;武侯区&apos; &#125;); regions.push(&#123; id: 3, name: &apos;锦江区&apos; &#125;); regions.push(&#123; id: 4, name: &apos;成华区&apos; &#125;); regions.push(&#123; id: 5, name: &apos;青羊区&apos; &#125;); regions.push(&#123; id: 6, name: &apos;龙泉驿区&apos; &#125;); regions.push(&#123; id: 7, name: &apos;青白江区&apos; &#125;); regions.push(&#123; id: 8, name: &apos;新都区&apos; &#125;); regions.push(&#123; id: 9, name: &apos;温江区&apos; &#125;); regions.push(&#123; id: 10, name: &apos;金堂县&apos; &#125;); regions.push(&#123; id: 11, name: &apos;郫都区&apos; &#125;); regions.push(&#123; id: 12, name: &apos;双流区&apos; &#125;); regions.push(&#123; id: 13, name: &apos;浦江县&apos; &#125;); regions.push(&#123; id: 14, name: &apos;大邑县&apos; &#125;); regions.push(&#123; id: 15, name: &apos;新津县&apos; &#125;); regions.push(&#123; id: 16, name: &apos;崇州市&apos; &#125;); regions.push(&#123; id: 17, name: &apos;都江堰市&apos; &#125;); regions.push(&#123; id: 18, name: &apos;彭州市&apos; &#125;); regions.push(&#123; id: 19, name: &apos;邛崃市&apos; &#125;); colors = new Array( &quot;rgb(0, 85, 194)&quot;, &quot;rgb(5, 129, 163)&quot;, &quot;rgb(16, 150, 154)&quot;, &quot;rgb(7, 188, 153)&quot;, &quot;rgb(195, 21, 15)&quot;, &quot;rgb(222, 170, 1)&quot;, &quot;rgb(221, 88, 5)&quot;, &quot;rgb(177, 191, 55)&quot;, &quot;rgb(49, 175, 80)&quot;, &quot;rgb(190, 157, 2)&quot;, &quot;rgb(14, 207, 173)&quot;, &quot;rgb(56, 225, 81)&quot;, &quot;rgb(43, 110, 163)&quot;, &quot;rgb(0, 132, 160)&quot;, &quot;rgb(169, 222, 12)&quot;, &quot;rgb(51, 171, 177)&quot;, &quot;rgb(5, 135, 217)&quot;, &quot;rgb(218, 14, 7)&quot;, &quot;rgb(174, 154, 2)&quot;, &quot;rgb(9, 182, 153)&quot; ) &#125;, setBoundaries = function(region, color) &#123; var pointCount = 0, polygon = null; bdary.get(region == &apos;郫都区&apos; ? &apos;郫县&apos; : region, function(rs)&#123; //获取行政区域 pointCount = rs.boundaries.length; //行政区域的点有多少个 for (i = 0; i &lt; pointCount; i++) &#123; polygon = new BMap.Polygon(rs.boundaries[i], &#123; strokeWeight: 1, strokeColor: &quot;#fff&quot;, fillOpacity:0.2, fillColor:&apos;#2480cc&apos; &#125;); //建立多边形覆盖物 mp.addOverlay(polygon); //添加覆盖物 polygon.setDatas(&#123; type: &apos;region&apos;, detail: &#123; name: region &#125; &#125;); &#125; &#125;); &#125;, addMarker = function() &#123; $(&apos;#grid-region-form&apos;).removeClass(&apos;hide&apos;); // 使用layer弹窗打开模板 layer.open(&#123; type: 1, title: &apos;添加网格&apos;, skin: &apos;layui-layer-demo&apos;, //样式类名 closeBtn: 0, //不显示关闭按钮 anim: 2, shadeClose: true, //开启遮罩关闭 area : [ &apos;784px&apos;, &apos;240px&apos; ], //宽高 content: $(&apos;#grid-region-form&apos;) &#125;); $(&quot;#grid-region-form form&quot;).validate(&#123; rules: &#123; &#125;, messages: &#123; &#125;, submitHandler:function(form)&#123; latestMarkerInfo = $(&quot;#grid-region-form form&quot;).serializeObject(); isMarker = true; layer.closeAll(); &#125; &#125;); &#125;, inGridPoint = null, markerPoint = function(point) &#123; if (latestMarkerPoint) &#123; mp.removeOverlay(latestMarkerPoint); &#125; latestMarkerPoint = point; // 创建点坐标 mp.addOverlay(latestMarkerPoint); latestMarkerPoint.enableDragging(); if (point.datas &amp;&amp; point.datas.detail &amp;&amp; point.datas.detail.name) &#123; latestMarkerPoint.setLabel(getMarkerLabel(point.datas.detail.name)); &#125; inGridPoint = point; &#125;, addPolygon = function() &#123; if (!latestMarkerPoint) &#123; console.log(&apos;请先添加应急中心！&apos;); return false; &#125; if (latestPolygon) &#123; return false; &#125; var centerPoint = latestMarkerPoint.point; latestPolygon = new BMap.Polygon([ new BMap.Point(centerPoint.lng + 0.002, centerPoint.lat + 0.002), new BMap.Point(centerPoint.lng - 0.002, centerPoint.lat + 0.002), new BMap.Point(centerPoint.lng - 0.002, centerPoint.lat - 0.002), new BMap.Point(centerPoint.lng + 0.002, centerPoint.lat - 0.002) ], &#123;strokeColor:&quot;red&quot;, strokeWeight:2, strokeOpacity:0.2, fillColor:&apos;#fff&apos;&#125;); //创建多边形 mp.addOverlay(latestPolygon); //增加多边形 latestPolygon.enableEditing(); latestPolygon.setDatas(&#123; type: &apos;polygon&apos;, detail: latestMarkerInfo &#125;); &#125;, contextMenu = null, dragMarker = function(e, ee, m)&#123; latestPolygon = filterOverLays(ol =&gt; ol.datas &amp;&amp; ol.datas.type == &apos;polygon&apos; &amp;&amp; ol.datas.detail.id == m.datas.detail.id); latestPolygon.enableEditing(); loadType = 3; m.enableDragging(); latestMarkerPoint = m; inGridPoint = m; latestMarkerPoint.addEventListener(&quot;dragend&quot;, function(e) &#123; var result = BMapLib.GeoUtils.isPointInPolygon(e.point, latestPolygon); if (!result) &#123; alert(&apos;应急点必须在应急区域内！&apos;); markerPoint(inGridPoint); &#125; else &#123; inGridPoint = new BMap.Marker(e.point); inGridPoint.setDatas(latestMarkerPoint.datas); &#125; &#125;); latestMarkerInfo = m.datas.detail; $(&apos;.save-region-grid&apos;).removeClass(&apos;hide&apos;); &#125;, filterOverLays = function(fn) &#123; let overLays = mp.getOverlays(), filtered = []; for (i = 0; i &lt; overLays.length; i++) &#123; if (fn(overLays[i], i) === true) &#123; filtered.push(overLays[i]); &#125; &#125; return filtered.length == 1 ? filtered[0] : filtered; &#125;, saveMarker = function(e, ee, m) &#123; &#125;, editPolygon = function(e, ee, p) &#123; p.enableEditing(); &#125;, savePolygon = function(e, ee, p) &#123; &#125;, saveRegionGrid = function() &#123; // 判断中心点是否在区域范围内 var result = BMapLib.GeoUtils.isPointInPolygon(latestMarkerPoint.point, latestPolygon); if (!result) &#123; alert(&apos;应急中心点不能在区域范围之外&apos;); return false; &#125; else &#123; geoc.getLocation(latestMarkerPoint.point, function(rs)&#123; let regionName = rs.addressComponents.district, region = null, regionIndex = -1, relateIndex = -1; for (i = 0; i &lt; regions.length; i++) &#123; if (regions[i].name == regionName) &#123; region = regions[i]; &#125; &#125; for (i = 0; i &lt; gridRegions.length; i++) &#123; if (gridRegions[i].region.name == regionName) &#123; regionIndex = i; &#125; &#125; if (regionIndex &lt; 0) &#123; gridRegions.push(&#123; region: region, relates: [] &#125;); regionIndex = gridRegions.length - 1; &#125; latestMarkerInfo.point = latestMarkerPoint.point; latestMarkerInfo.gridPoints = latestPolygon.ia; for (i = 0; i &lt; gridRegions[regionIndex].relates.length; i++) &#123; if (gridRegions[regionIndex].relates[i].id == latestMarkerInfo.id) &#123; relateIndex = i; &#125; &#125; if (relateIndex &gt;= 0) &#123; gridRegions[regionIndex].relates[relateIndex] = latestMarkerInfo; &#125; else &#123; gridRegions[regionIndex].relates.push(latestMarkerInfo); &#125; $(&apos;.save-region-grid&apos;).addClass(&apos;hide&apos;); loadGridRegions(); &#125;); &#125; &#125;, loadGridRegions = function() &#123; filterOverLays(ol =&gt; ol.datas &amp;&amp; (ol.datas.type == &apos;marker&apos; || ol.datas.type == &apos;polygon&apos;)).map(f =&gt; mp.removeOverlay(f)); loadType = 1; if (latestMarkerPoint) &#123; latestMarkerPoint.disableDragging(); latestMarkerPoint = null; &#125; if (latestPolygon) &#123; latestPolygon.disableEditing(); latestPolygon = null; &#125; isMarker = false; if (gridRegions.length &gt; 0 ) &#123; for (i = 0; i &lt; gridRegions.length; i++) &#123; for (j = 0; j &lt; gridRegions[i].relates.length; j++) &#123; var relate = gridRegions[i].relates[j], point = relate.point, gridPoints = relate.gridPoints, marker = new BMap.Marker(new BMap.Point(point.lng, point.lat)), polygon = new BMap.Polygon(gridPoints.map(gp =&gt; new BMap.Point(gp.lng, gp.lat)), &#123;strokeColor:&quot;red&quot;, strokeWeight:1, strokeOpacity:0.3, fillColor:&apos;rgb(253, 80, 0)&apos;&#125;); mp.addOverlay(marker); mp.addOverlay(polygon); if (mp.getZoom() &gt;= 15) &#123; marker.setLabel(getMarkerLabel(relate.name)); &#125; marker.setDatas(&#123; type: &apos;marker&apos;, detail: relate &#125;); polygon.setDatas(&#123; type: &apos;polygon&apos;, detail: relate &#125;); contextMenu = new BMap.ContextMenu(); contextMenu.addItem(new BMap.MenuItem(&apos;重新定点&apos;, dragMarker.bind(marker))); marker.addContextMenu(contextMenu); contextMenu = new BMap.ContextMenu(); contextMenu.addItem(new BMap.MenuItem(&apos;重新定义范围&apos;, editPolygon.bind(polygon))); polygon.addContextMenu(contextMenu); &#125; &#125; tpl = grid_region_distribute_datas.innerHTML; view = $(&apos;#grid-region-distribute-view&apos;); var a = 1; for (i = 0; i &lt; gridRegions.length; i++) &#123; regions.map(r =&gt; r.name == gridRegions[i].region.name ? r.grids = gridRegions[i].relates : a = 2); &#125; laytpl(tpl).render(regions, function(html)&#123; view.html(html); $(&apos;.center-zoom-region&apos;).click(function() &#123; for (i = 0; i &lt; $(&apos;.center-zoom-region&apos;).length; i++) &#123; $($(&apos;.center-zoom-region&apos;)[i]).parent().parent().removeClass(&apos;selected&apos;); &#125; $(this).parent().parent().addClass(&apos;selected&apos;); centerZoomRegion($(this).attr(&apos;data-name&apos;)); &#125;) $(&apos;.center-zoom-grid&apos;).click(function() &#123; let gridName = $(this).attr(&apos;data-name&apos;), gridMarker = null; gridMarker = filterOverLays(ol =&gt; ol.datas &amp;&amp; ol.datas.type == &apos;marker&apos; &amp;&amp; ol.datas.detail.name == gridName); gridMarker.setLabel(getMarkerLabel(gridName)); mp.centerAndZoom(gridMarker.point, 16); &#125;); &#125;); &#125; &#125;, getMarkerLabel = function(txt) &#123; let markerLabel = new BMap.Label(txt, &#123; offset:new BMap.Size(20,-10) &#125;); markerLabel.setStyle(&#123; &apos;border&apos;: 0, &apos;background-color&apos;: &apos;rgb(255, 255, 255, 0)&apos; &#125;); return markerLabel; &#125;, colorRegion = function(region) &#123; filterOverLays(ol =&gt; ol.datas &amp;&amp; ol.datas.type == &apos;region&apos;).forEach(function(rp) &#123; if (rp.datas.detail.name == region) &#123; rp.setFillColor(&apos;red&apos;); &#125; else &#123; rp.setFillColor(&apos;blue&apos;); &#125; &#125;) &#125;, centerZoomRegion = function(region) &#123; mp.centerAndZoom(city + region, 13); colorRegion(region); &#125;, init = function(p) &#123; if (!p.containerId) &#123; return false; &#125; BMap.Polygon.prototype.datas = &#123;&#125;; BMap.Polygon.prototype.setDatas = function(datas) &#123; this.datas = datas; &#125;; BMap.Marker.prototype.datas = &#123;&#125;; BMap.Marker.prototype.setDatas = function(datas) &#123; this.datas = datas; &#125;; // 显示网格区域边界 gridRegions = p.gridRegions ? p.gridRegions : []; setBasicDatas();// 基础数据装载 mp = new BMap.Map(p.containerId); // 创建点坐标 mp.centerAndZoom(city, 12); // 初始化地图，设置中心点坐标和地图级别 mp.enableScrollWheelZoom(); // 显示行政区域边界 for(i = 0; i &lt; regions.length; i++)&#123; setBoundaries(regions[i].name, colors[i]); &#125; loadGridRegions(); // 地图添加点击时间 mp.addEventListener(&quot;click&quot;, function(e) &#123; if (isMarker) &#123; // isMarker为true时点击功能表示添加标注 let newMarker = new BMap.Marker(e.point); newMarker.setDatas(&#123; type: &apos;marker&apos;, detail: latestMarkerInfo &#125;); markerPoint(newMarker); latestMarkerPoint.addEventListener(&quot;dragend&quot;, function(e) &#123; var result = BMapLib.GeoUtils.isPointInPolygon(e.point, latestPolygon); if (!result) &#123; alert(&apos;应急点必须在应急区域内！&apos;); markerPoint(inGridPoint); &#125; else &#123; inGridPoint = new BMap.Marker(e.point); inGridPoint.setDatas(latestMarkerPoint.datas); &#125; &#125;); addPolygon(); $(&apos;.save-region-grid&apos;).removeClass(&apos;hide&apos;); &#125; else &#123; // 否则设置点击点为中心，放大地图 mp.centerAndZoom(e.point, 16); // 设置点击区域 geoc.getLocation(e.point, function(rs)&#123; var addComp = rs.addressComponents, regionPolygons = null; $(&apos;.region-select&apos;).val(addComp.district); colorRegion(addComp.district); &#125;); // 显示操作栏 scrollFunc(); &#125; &#125;); // 滚动监听地图缩放级别，控制操作栏的显示和隐藏 if(document.addEventListener)&#123; document.addEventListener(&apos;DOMMouseScroll&apos;,scrollFunc,false); &#125;//W3C window.onmousewheel=document.onmousewheel=scrollFunc;//IE/Opera/Chrome $(&apos;.region-select&apos;).html(&apos;&lt;option&gt;-切换目标区域-&lt;/option&gt;&apos; + regions.map(r =&gt; &apos;&lt;option value=&quot;&apos; + r.name + &apos;&quot;&gt;&apos; + r.name + &apos;&lt;/option&gt;&apos;).join(&apos;&apos;)); $(&apos;.add-marker&apos;).click(function() &#123; addMarker(); &#125;); $(&apos;.save-region-grid&apos;).click(function() &#123; saveRegionGrid(); &#125;); $(&apos;.toggle-region-grid-list&apos;).click(function() &#123; if ($(this).hasClass(&apos;selected&apos;)) &#123; $(this).removeClass(&apos;selected&apos;); $(&apos;#grid-region-distribute-view&apos;).addClass(&apos;hide&apos;); &#125; else &#123; $(this).addClass(&apos;selected&apos;); $(&apos;#grid-region-distribute-view&apos;).removeClass(&apos;hide&apos;); &#125; &#125;); &#125;; return &#123; init: init &#125;&#125;());]]></content>
      <categories>
        <category>软件知识</category>
      </categories>
      <tags>
        <tag>百度地图api</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[使用闭包函数优化思维，重构代码]]></title>
    <url>%2F2018%2F01%2F30%2F%E4%BD%BF%E7%94%A8%E9%97%AD%E5%8C%85%E5%87%BD%E6%95%B0%E4%BC%98%E5%8C%96%E6%80%9D%E7%BB%B4%EF%BC%8C%E9%87%8D%E6%9E%84%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[前言闭包多是用匿名函数实现，在匿名函数中引用了外部变量，那这个匿名函数就形成了闭包。匿名函数拥有可动态编程的执行过程。巧妙使用可以让你的代码简约而不失优雅，灵活而不失约束。好了，正式切入本文的正题，使用闭包函数优化思维，重构代码。 下面是三种场景中对闭包的使用使用闭包遍历水果选择项闭包的声明语法：(function(参数){}(值))在声明的时候传值，该闭包函数会立即执行，例如下面代码中的fruitsItems函数。12345678910111213141516171819202122232425&lt;div id=&quot;fruits-items&quot;&gt;&lt;/div&gt;&lt;script type=&quot;text/javascript&quot;&gt;// 遍历石榴，李子，橘子，生成水果复选框代码// 测试“声明的时候传值，该闭包函数会立即执行”let fruitsItems = (function(fruits) &#123; return fruits.map(it =&gt; &apos;&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;&apos; + it.name + &apos;&quot; title=&quot;&apos; + it.title + &apos;&quot;/&gt;&apos; + it.title + &apos;&lt;/label&gt;&apos;).join(&apos;&lt;br&gt;&apos;);&#125;([ &#123;name: &apos;pomegranate&apos;, title: &apos;Pomegranate&apos;&#125;, &#123;name: &apos;plum&apos;, title: &apos;Plum&apos;&#125;, &#123;name: &apos;tangerine&apos;, title: &apos;Tangerine&apos;&#125;]));// 闭包中使用匿名函数let fruits = (function() &#123; return &#123; setItems: function(array_items) &#123; return array_items.map(it =&gt; &apos;&lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;&apos; + it.name + &apos;&quot; title=&quot;&apos; + it.title + &apos;&quot;/&gt;&apos; + it.title + &apos;&lt;/label&gt;&apos;).join(&apos;&lt;br&gt;&apos;); &#125; &#125;&#125;())// 赋值$(&apos;#fruits-items&apos;).html(fruits.setItems([ &#123;name: &apos;apple&apos;, title: &apos;Apple&apos;&#125;, &#123;name: &apos;banana&apos;, title: &apos;Banana&apos;&#125;])).append(&apos;&lt;br&gt;&apos;).append(fruitsItems);&lt;/script&gt; 筛选出年级小于并等于25岁的女性同事筛选前姓名：Winnie，年龄：25，性别：female姓名：Jim，年龄：29，性别：male姓名：Anson，年龄：27，性别：male姓名：Danica，年龄：23，性别：female 筛选后姓名：Winnie，年龄：25，性别：female姓名：Danica，年龄：23，性别：female12345678910111213141516171819202122232425262728293031323334&lt;div&gt;筛选前&lt;/div&gt;&lt;div id=&quot;workmates&quot;&gt;&lt;/div&gt;&lt;div&gt;筛选后&lt;/div&gt;&lt;div id=&quot;filtered-workmates&quot;&gt;&lt;/div&gt;&lt;script type=&quot;text/javascript&quot;&gt;let wms = (function() &#123; var datas = [ &#123;name: &apos;Winnie&apos;, age: 25, sex: &apos;female&apos;&#125;, &#123;name: &apos;Jim&apos;, age: 29, sex: &apos;male&apos;&#125;, &#123;name: &apos;Anson&apos;, age: 27, sex: &apos;male&apos;&#125;, &#123;name: &apos;Danica&apos;, age: 23, sex: &apos;female&apos;&#125; ]; return &#123; init: function() &#123; return this.htmls(datas); &#125;, filter: function(fn) &#123; let filtered = []; for (let i = 0; i &lt; datas.length; i++) &#123; // 重点：将遍历对象传递出去，任意开发人员进行条件设置，满足了就被筛选成功 if (fn(datas[i], i) === true) &#123; filtered.push(datas[i]); &#125; &#125; return this.htmls(filtered); &#125;, htmls: function (renders) &#123; return renders.map(wm =&gt; &apos;&lt;label&gt;姓名：&apos; + wm.name + &apos;，年龄：&apos; + wm.age + &apos;，性别：&apos; + wm.sex +&apos;&lt;/label&gt;&apos;).join(&apos;&lt;br&gt;&apos;); &#125; &#125;&#125;());$(&apos;#workmates&apos;).html(wms.init());$(&apos;#filtered-workmates&apos;).html(wms.filter(wm =&gt; wm.age &lt;= 25 &amp;&amp; wm.sex === &apos;female&apos;));&lt;/script&gt; 实现一个数据处理过程的匿名函数重构传入 5执行成功返回 {status: ‘success’, data: 10}执行失败返回 {status: ‘failed’, error: ‘xxx’}传入 [2, 3]执行成功返回 {status: ‘success’, data: [{status: ‘success’, data: 4}, {status: ‘success’, data: 6}]}执行失败返回 {status: ‘success’, data: [{status: ‘failed’, error: ‘xxx’}, {status: ‘failed’, error: ‘xxx’}]} 普通js代码代码冗余，相同的代码重复写，机械化。1234567891011121314151617181920212223242526272829303132function multiple(inNum) &#123; if (Array.isArray(inNum)) &#123; return &#123; status: &apos;success&apos;, data: inNum.map(it =&gt; &#123; if (isNaN(parseFloat(it))) &#123; return &#123; status: &apos;failed&apos;, error: &apos;the input is not a number&apos; &#125; &#125; return &#123; status: &apos;success&apos;, data: it * 2 &#125;; &#125;); &#125; &#125; else &#123; if (isNaN(parseFloat(inNum))) &#123; return &#123; status: &apos;failed&apos;, error: &apos;the input is not a number&apos; &#125; &#125; return &#123; status: &apos;success&apos;, data: inNum * 2 &#125;; &#125;&#125; 重构后 execute 方法只管输入输出的格式和错误处理，包揽了所有脏活累活；multiple 方法则只关心业务的具体实现，也不用关心输入的是单个元素还是数组。如果要改乘 3，只要修改 multiple 方法最后一个 return。优秀!12345678910111213141516171819202122232425262728293031323334function execute(data, fn) &#123; let single = it =&gt; &#123; try &#123; return &#123; status: &apos;success&apos;, data: fn(it) &#125; &#125; catch (e) &#123; return &#123; status: &apos;failed&apos;, data: e.toString() &#125; &#125; &#125;; if (Array.isArray(data)) &#123; return &#123; status: &apos;success&apos;, data: data.map(single) &#125;; &#125; else &#123; return single(data); &#125;&#125;function multiple(inNum) &#123; return execute(inNum, it =&gt; &#123; if (isNaN(parseFloat(it))) &#123; throw new Error(&apos;the input is not a number&apos;); &#125; return it * 2; &#125;)&#125; 结尾本文练习总结结果源于阅读“微信公众号：前端早读课”的“【第1073期】巧用匿名函数重构你的代码”一文，进行自身场景的练习，转换成技能为我所用。本文只做日常技术知识积累记录所用，侵删。]]></content>
      <categories>
        <category>软件知识</category>
      </categories>
      <tags>
        <tag>js优化</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringCloud客户端项目构建(使用Freemarker)]]></title>
    <url>%2F2017%2F10%2F17%2FSpringCloud%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA(%E4%BD%BF%E7%94%A8Freemarker)%2F</url>
    <content type="text"><![CDATA[背景作为一个具备java基础的前端工程师，了解到Spring boot是下一代的web框架，而Spring Cloud则是最新最火的微服务的翘楚，有必要在此记录他的项目构建方案，本文适用于前端开发小组的项目搭建，该项目的特性是不作为服务端发布，作为客户端发布，主要基于Spring Cloud，围绕Freemarker技术进行相关的配置，使用讲解。 前提请务必确保你的机器上安装了Eclipse Java EE IDE for Web Develipers.我的版本是Mars.2 Release(4.5.2),这将是特别重要的关键的一步， Eclipse在手，天下我有。 请务必一定程度的了解Spring Cloud模式和概念。 请务必一定程度的了解Freemarker功能使用方法。 步骤下载在Help-Eclipse MarketPlace的搜索下载sts(Spring Tools(aka Spring IDE and Spring Tool Suite)), 安装等待，成功后重启Eclipse。 构建项目此时已经成功的下载sts, 第一步 创建基于MAVEN的SpringCloud项目在Java EE模式下的Project Ecplorer窗口中，右键new-Other-Spring-Spring Starter Project。 作为前端小组开发的基于客户端的项目，构建的时候必须加载Eureka Discovery组件（服务注册，用于向Eureka Server注册，将客户端信息发送到Eureka Server），Feign组件（作为HTTP客户端调用远程HTTP服务），Ribbon组件（负载均衡）。 作为服务提供开发组的微服务项目，构建时在上面的基础上还需要加载Eureka Server组件（用于发布可调用的服务），Zuul组件（路由 ）等…具体根据项目实际需求决定。 加载的组件，可在新建项目的第二步搜索勾选组件，也可自行配置pom.xml文件，如下（客户端开发小组项目配置示例）：123456789101112131415&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-ribbon&lt;/artifactId&gt; &lt;/dependency&gt; ...&lt;/dependencies&gt; 客户端项目开发还需要使用Freemarker等其他基本库，则需要在pom.xml中添加配置，如下：12345678910111213141516171819202122232425262728293031323334353637383940&lt;!-- Freemarker --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!-- Spring boot basic --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!-- alibaba --&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.1.15&lt;/version&gt;&lt;/dependency&gt;&lt;!-- java developers&apos; basic jar 1--&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;version&gt;3.4&lt;/version&gt;&lt;/dependency&gt;&lt;!-- java developers&apos; basic jar 2--&gt;&lt;dependency&gt; &lt;groupId&gt;net.sf.json-lib&lt;/groupId&gt; &lt;artifactId&gt;json-lib&lt;/artifactId&gt; &lt;version&gt;2.4&lt;/version&gt; &lt;classifier&gt;jdk15&lt;/classifier&gt;&lt;/dependency&gt;&lt;!-- 企业封装工具包 --&gt;&lt;dependency&gt; &lt;groupId&gt;com.emin&lt;/groupId&gt; &lt;artifactId&gt;base&lt;/artifactId&gt; &lt;version&gt;v1.8&lt;/version&gt;&lt;/dependency&gt; 项目创建成功之后，选中项目名右键Maven-Update Project-勾选项目-ok。 Tips a. 删除项目路径下的mvnw文件和mvnw.cmd文件 b. Maven配置找不到包，需要配置Maven的settings 配置User Settings的文件settings.xml，文件内容如下：settings.xml1234567891011121314151617181920212223242526&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt; &lt;localRepository&gt;E:/repo&lt;/localRepository&gt; &lt;interactiveMode&gt;true&lt;/interactiveMode&gt; &lt;offline&gt;false&lt;/offline&gt; &lt;pluginGroups&gt;&lt;/pluginGroups&gt; &lt;proxies&gt;&lt;/proxies&gt; &lt;servers&gt; &lt;server&gt; &lt;id&gt;dz-publish&lt;/id&gt; &lt;username&gt;dz-publish&lt;/username&gt; &lt;password&gt;dzpublish&lt;/password&gt; &lt;/server&gt; &lt;/servers&gt; &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;dz-server-mirror&lt;/id&gt; &lt;mirrorOf&gt;*&lt;/mirrorOf&gt; &lt;name&gt;dz inner maven nexus server&lt;/name&gt; &lt;url&gt;http://192.168.0.250:10004/nexus/content/groups/public/&lt;/url&gt; &lt;/mirror&gt; &lt;/mirrors&gt; &lt;profiles&gt;&lt;/profiles&gt;&lt;/settings&gt; 您需要关心localRepository节点，mirrors-mirror-url节点的配置。localRepository节点配置Maven将jar包加载在本地的那个磁盘路径里；url节点配置Maven从何处去下载jar包；配置信息根据企业实际项目情况约定。 修改生成你的配置文件，放置在本地的指定目录下；Eclipse状态栏-Windows-Preferences-Maven-User Settings，找到你的配置文件详细路径配置在User Settings的文本框中-Apply-ok。 第二步 项目配置（客户端项目的应用配置）项目创建成功后，你会发现该项目自动生成了一些文件，没用的我已经在上面建议你删除掉了，现在先介绍我们没有删掉的有用的文件。 目录1 src/main/javaz 该目录下的生成了一个XXXAppication.java的文件，这个文件用于项目启动。 启动方式 ：选中该文件，右键Run As-Spring Boot App（建议在完成了第三步 目录资源整理后再尝试） 目录2 sec/main/resources 该目录下生成了一个application.properties的文件，这个文件用于项目配置。 配置方式: 为了配置信息使用树状结构展示更加清晰了然，建议您将properties后缀改成yml后缀。 配置项目合作的微服务中心地址1234eureka: client: serviceUrl: defaultZone: http://192.168.0.223:8761/eureka/ 配置项目的端口号12server: port: 8765 配置项目名称，Freemarker信息1234567891011121314151617spring: application: name: wxbase freemarker: allow-request-override: false cache: true checkTemplateLocation: true charSet: UTF-8 contentType: text/html exposeRequestAttributes: true exposeSessionAttributes: true exposeSpringMacroHelpers: false suffix: .html templateLoaderPath: classpath:/ prefer-file-system-access: false settings: templateExceptionHandler: ignor ++Freemarker配置说明++ templateLoaderPath对应的值（classpath:/）表示的是根目录，它用于后台服务返回页面的路径使用，在此有一个稍微的概念，后面具体使用了解。 suffix对应的值（.html）表示的是页面模板的后缀，有的项目使用ftl后缀，后台服务返回页面的时候就会找ftl后缀的页面，也可以理解为后台服务返回页面时自动加上了配置好的后缀。 至此，项目配置完成。 第三步 目录资源整理 重点1：我强烈的建议你将前端的css、js、图片等文件作为静态资源放置在src/main/resources下新建文件夹static目录下。 在XXXXApplication.java文件的同级目录下，新建我们此处命名为WebMvcConfig.java文件，它将是我们手动的编写一个拦截器，目的是在项目启动的时候，将静态资源的访问路径注册到根目录下(你也可以有其它的目的，根据你的项目实际情况来)，内容如下： WebMvcConfig.java1234567891011121314151617181920212223package com.emin.platform.wxbase; import org.springframework.beans.factory.annotation.Configurable;import org.springframework.web.servlet.config.annotation.ContentNegotiationConfigurer;import org.springframework.web.servlet.config.annotation.EnableWebMvc;import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter; @Configurable @EnableWebMvc public class WebMvcConfig extends WebMvcConfigurerAdapter&#123; @Override public void configureContentNegotiation(ContentNegotiationConfigurer configurer) &#123; configurer.favorPathExtension(false); &#125; @Override public void addResourceHandlers(ResourceHandlerRegistry registry) &#123; registry.addResourceHandler(&quot;/js/**&quot;) .addResourceLocations(&quot;classpath:/static/js/&quot;); registry.addResourceHandler(&quot;/css/**&quot;) .addResourceLocations(&quot;classpath:/static/css/&quot;); registry.addResourceHandler(&quot;/img/**&quot;) .addResourceLocations(&quot;classpath:/static/img/&quot;); &#125; &#125; 完成了这个文件的编写，我们可以在前端的页面上通过/js、/css、/img去访问我们的静态资源，不会暴露它具体在哪个路径下。 @Configurable、@EnableWebMvc这两个注解会确保该文件在项目启动的时候被执行。 重点2：我们要在src/main下面新建webapp的文件夹，点击webapp文件夹，右键-Build Path-Use as Source Folder。 webapp文件夹下将会放置我们的项目开发的模块或者页面代码。 至于Use as Source Folder这个操作可以让我们后台通过’classpath:/‘直接访问webapp下面的文件，意思是：用户发送请求到后台服务，后台服务经过一系列的数据处理，通过访问页面路径的形式将处理结果信息返回到页面上，’classpath:/‘将会是webapp这个文件夹的路径。而上文中我们在application.yml中配置了templateLoaderPath的值为’classpath:/‘,那么此时webapp文件夹的访问路径就等于该项目的根’/‘。 举例说明： 在src/main/weapp目录下新建index.html, 内容如下： index.html1234567891011 &lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, user-scalable=0&quot;&gt;&lt;title&gt;主页&lt;/title&gt;&lt;/head&gt;&lt;body&gt;hello world&lt;/body&gt;&lt;/html&gt; 在XXXXApplication.java的同级目录下新建controller包，在该包下new一个IndexController.java文件。内容如下： IndexController.java12345678910111213141516171819202122package com.emin.platform.wxbase.controller;import java.io.UnsupportedEncodingException;import javax.servlet.http.HttpServletRequest;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.bind.annotation.RestController;import org.springframework.web.servlet.ModelAndView; @RestControllerpublic class IndexController&#123; @ResponseBody @RequestMapping(value = &quot;/&quot;,method = RequestMethod.GET) public ModelAndView index(HttpServletRequest request) throws UnsupportedEncodingException&#123; ModelAndView mv = new ModelAndView(&quot;index&quot;); return mv; &#125;&#125; 该Controller将项目的根目录访问指向了index.html页面，’.html’的后缀是项目配置里配置好了的，能找到webapp下的index.html页面,也是因为我们将webapp文件夹配置为Use as Source Folder。 微服务合作开发在项目配置里，我们配好了项目合作的微服务中心地址。现在我们在controller同级目录建立一个interfaces包,此包下的文件用于合作服务接口开发。 举例 WxApiFeign.java123456789101112131415161718192021222324252627package com.emin.platform.wxbase.interfaces;import org.springframework.cloud.netflix.feign.FeignClient;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.RequestParam;@FeignClient(value = &quot;service-zuul&quot;)public interface WxApiFeign &#123; /** * 保存微信公众号 * @param wxOfficialAccount 微信公众实体JSON字符串 * @return */ @RequestMapping(value = &quot;/api-wx/woa/createOrUpdate&quot;,method = RequestMethod.POST) String saveWxoa(@RequestBody String wxOfficialAccount); /** * 加载微信公众号列表 * @param companyId 公司id * @return */ @RequestMapping(value = &quot;/api-wx/woa/&#123;companyId&#125;/woalist&quot;,method = RequestMethod.GET) String loadWxoas(@PathVariable(value=&quot;companyId&quot;) Long companyId);&#125; 说明 @FeignClient(value = “service-zuul”)中的value值是合作方提供给你的，这是合作微服务项目的网关名称。 @RequestMapping(value = “/api-wx/woa/createOrUpdate”,method = RequestMethod.POST)中的value值是调用的具体接口路径，ip前缀地址就是我们已经项目配置中的++配置项目合作的微服务中心地址++，method值制定接口的访问方式。 到此，我们就建立好了微服务合作开发的连接。 然后我们新建WxoaController中使用WxApiFeign中的接口 代码片 WxoaController.java1234567891011121314151617181920212223242526...@Controller@RequestMapping(&quot;/wxoa&quot;)public class WxoaController extends BaseController &#123; @Autowired WxApiFeign wxApiFeign; @RequestMapping(&quot;/index&quot;) @ResponseBody public ModelAndView goManage()&#123; ModelAndView mv = new ModelAndView(&quot;modules/wxoa/manage&quot;); String res = wxApiFeign.loadWxoas(1l); JSONObject data = JSONObject.parseObject(res); mv.addObject(&quot;data&quot;, data); return mv; &#125; @RequestMapping(&quot;/saveWxoa&quot;) @ResponseBody public JSONObject saveWxoa(String jsonStr)&#123; String res = wxApiFeign.saveWxoa(jsonStr); JSONObject json = JSONObject.parseObject(res); return json; &#125;&#125; 以上，我们完成了微服务合作开发。 Freemarker在项目中的使用Freemarker在项目中是一个数据模板开发的概念，如上WxoaController的goManage方法将会返回根目录下modules/wxoa/manage.html页面模板，通过ModelAndView对象装载了页面模板的地址和服务器的处理结果数据，我们在modules/wxoa/manage.html页面上解析处理结果数据的过程则使用了Freemarker，如下： modules/wxoa/manage.html123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;style&gt; .devicesMsg&#123; padding:2px; margin-right:15px; background:#DADADA; &#125;&lt;/style&gt;&lt;#setting datetime_format=&apos;yyyy-MM-dd HH:mm:ss&apos;&gt;&lt;#setting date_format=&apos;yyyy-MM-dd&apos;&gt;&lt;div class=&quot;wrapper-content&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-sm-12&quot;&gt; &lt;div class=&quot;ibox float-e-margins&quot;&gt; &lt;div class=&quot;ibox-title&quot;&gt; &lt;h5&gt;微信公众号管理&lt;/h5&gt; &lt;div class=&quot;ibox-tools&quot;&gt; &lt;a class=&quot;btn btn-primary btn-xs&quot; href=&quot;javascript:goPage(&apos;form&apos;)&quot;&gt; &lt;i class=&quot;fa fa-plus&quot;&gt;&lt;/i&gt;添加 &lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;ibox-content&quot;&gt; &lt;div class=&quot;filter-line&quot;&gt; &lt;form method=&quot;get&quot; class=&quot;dr-search-form&quot; id=&quot;wxoaSearchForm&quot;&gt; &lt;input type=&quot;hidden&quot; name=&quot;page&quot;&gt; &lt;input placeholder=&quot;关键字查询&quot; class=&quot;form-control&quot; type=&quot;text&quot; name=&quot;keyword&quot; value=&quot;$&#123;keyword!&apos;&apos;&#125;&quot; role=&quot;user-params&quot;&gt; &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; role=&quot;submit&quot;&gt;搜索&lt;/button&gt; &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; role=&quot;reset&quot;&gt;重置&lt;/button&gt; &lt;/form&gt; &lt;/div&gt; &lt;table class=&quot;footable table table-stripped toggle-arrow-tiny&quot; id=&quot;wxoaTable&quot; data-paging=&quot;false&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th data-toggle=&quot;true&quot;&gt;企业名称&lt;/th&gt; &lt;th&gt;微信号&lt;/th&gt; &lt;th&gt;类型&lt;/th&gt; &lt;th&gt;appId&lt;/th&gt; &lt;th&gt;appSecret&lt;/th&gt; &lt;th&gt;Token&lt;/th&gt; &lt;th&gt;操作&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;#if data?? &amp;&amp; data.success&gt; &lt;#list data.result as d&gt; &lt;tr&gt; &lt;td&gt;$&#123;d.companyName&#125;&lt;/td&gt; &lt;td&gt;$&#123;d.companyCode&#125;&lt;/td&gt; &lt;td&gt;&lt;#if d.type==1&gt;订阅&lt;#elseif d.type==2&gt;服务&lt;#elseif d.type==3&gt;企业&lt;#else&gt;小程序&lt;/#if&gt;&lt;/td&gt; &lt;td&gt;$&#123;d.appId&#125;&lt;/td&gt; &lt;td&gt;$&#123;d.appSecret&#125;&lt;/td&gt; &lt;td&gt;$&#123;d.token&#125;&lt;/td&gt; &lt;td&gt; &lt;a href=&quot;javascript: goPage(&apos;form?id=$&#123;d.id&#125;&apos;)&quot; class=&quot;ipc-edit&quot;&gt;&lt;i class=&quot;fa fa-pencil text-navy&quot;&gt;&lt;/i&gt; 编辑&amp;nbsp;&amp;nbsp;&lt;/a&gt; &lt;a href=&quot;javascript: remove(&apos;$&#123;d.id&#125;&apos;, &apos;wxoa&apos;);&quot; class=&quot;ipc-remove&quot;&gt;&lt;i class=&quot;fa fa-trash text-navy&quot; &gt;&lt;/i&gt; 停用&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;#else&gt; &lt;tr&gt; &lt;td colspan=&quot;7&quot;&gt;暂无数据&lt;/td&gt; &lt;/tr&gt; &lt;/#if&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; ‘&lt;#’开头的标签则是Freemarker语法。在上面的示例中Freemarker遍历了服务器的结果数据，将数据展示在了页面上，更多Freemarker的语法请参考更专业的文章。 结语感谢您的阅读。]]></content>
      <categories>
        <category>软件知识</category>
      </categories>
      <tags>
        <tag>SpringCloud</tag>
        <tag>Freemarker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[在Sublime Text中使用代码规范检查工具]]></title>
    <url>%2F2017%2F07%2F12%2F%E5%9C%A8Sublime-Text%E4%B8%AD%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E6%A3%80%E6%9F%A5%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[背景无规矩不成方圆，业内已存在合理和规范的前端开发标准，合理的使用检查工具能够节约时间成本，同时养成优秀的代码习惯。本文所述的配置基于Sublime Text编辑器，基于Code Guide前端开发规范文档; 本文目前只涉及js代码规范检查，核心内容是Eslint工具的使用以及结合Sublime Text的配置。 准备工作 去百度搜索完成Sublime Text 3的安装和配置 安装和学习使用nodejs，参考Nodejs的安装和配置（Windows）) 核心内容 Eslint简介 Eslint由 JavaScript 红宝书 作者 Nicholas C. Zakas 编写， 2013 年发布第一个版本。 NCZ 的初衷不是重复造一个轮子，而是在实际需求得不到 JSHint 团队响应 的情况下做出的选择：以可扩展、每条规则独立、不内置编码风格为理念编写一个 lint 工具。 ESLint 主要有以下特点： 默认规则包含所有 JSLint、JSHint 中存在的规则，易迁移； 规则可配置性高：可设置「警告」、「错误」两个 error 等级，或者直接禁用； 包含代码风格检测的规则（可以丢掉 JSCS 了）； 支持插件扩展、自定义规则。 安装Eslint 使用nodejs的npm工具全局安装，语法如下： npm install eslint -g 配置Eslint代码风格 在项目或工程的的根目录新建.eslintrc.js文件，基于Code Guide前端开发规范文档JAVASCRIPT部分的规范, 文件内容建议如如下： module.exports = { &quot;env&quot;: { &quot;browser&quot;: true }, &quot;extends&quot;: &quot;eslint:recommended&quot;, &quot;rules&quot;: { &quot;camelcase&quot;: 2, // 强制驼峰法命名 &quot;id-match&quot;: 2, // 禁止重复定义 &quot;indent&quot;: [2,&quot;tab&quot;], // 缩进采取Tab &quot;semi&quot;: [2, &quot;always&quot;], // 语句强制分号结尾 &quot;quotes&quot;: [2,&quot;single&quot;], // 引号类型 单引号 &quot;no-dupe-args&quot;: 2,// 函数参数不能重复 &quot;curly&quot;: [2, &quot;all&quot;],//必须使用 if(){} 中的{} &quot;one-var&quot;:2, // 语句块不允许出现连续两个var &quot;vars-on-top&quot;: 2, // 定义的变量必须在作用域的顶部 &quot;newline-after-var&quot;: 2, // 定义完变量必须换一行 &quot;space-before-blocks&quot;: [2, &quot;always&quot;],//不以新行开始的块{前面要不要有空格 &quot;space-before-function-paren&quot;: [2, &quot;never&quot;],//函数定义时括号前面要不要有空格 &quot;no-spaced-func&quot;: 2,//函数调用时 函数名与()之间不能有空格 &quot;space-in-parens&quot;: [2, &quot;never&quot;],//小括号里面要不要有空格 &quot;space-infix-ops&quot;: 2,//中缀操作符周围要不要有空格 &quot;space-unary-ops&quot;: [2, { &quot;words&quot;: true, &quot;nonwords&quot;: false }],//一元运算符的前/后要不要加空格 &quot;spaced-comment&quot;: 2,//注释风格要不要有空格什么的 &quot;no-multiple-empty-lines&quot;: [1, {&quot;max&quot;: 2}],//空行最多不能超过2行 &quot;operator-linebreak&quot;: [2, &quot;after&quot;],// 换行时运算符在行尾还是行首 &quot;no-unneeded-ternary&quot;: 2,//禁止不必要的嵌套 var isYes = answer === 1 ? true : false; &quot;no-unreachable&quot;: 2,// 不能有无法执行的代码 &quot;default-case&quot;: 2,//switch语句最后必须有default &quot;no-sequences&quot;: 0,//禁止使用逗号运算符 &quot;no-empty&quot;: 2,// 块语句中的内容不能为空 &quot;no-eq-null&quot;: 2, // 禁止对null使用==或!=运算符 &quot;eqeqeq&quot;: 2,//必须使用全等 &quot;use-isnan&quot;: 2,// 禁止比较时使用NaN，只能用isNaN() &quot;no-underscore-dangle&quot;: 2, //标识符不能以下划线开头 &quot;no-undef&quot;: 2, // 不能有未定义的变量 &quot;no-use-before-define&quot;: 2,// 未定义前不能使用 &quot;no-unused-vars&quot;: [1, {&quot;vars&quot;: &quot;all&quot;, &quot;args&quot;: &quot;after-used&quot;}],// 不能有声明后未被使用的变量或参数 &quot;no-alert&quot;: 1, // 警告弹窗 &quot;no-console&quot;: 1, // 警告控制台输出 &quot;no-debugger&quot;: 1, // 警告debugger &quot;no-trailing-spaces&quot;: 1, //一行结束后不能有空格 &quot;eol-last&quot;: 0, //文件以单一的换行符结尾 &quot;padded-blocks&quot;: 0,//块语句内行首行尾是否要空行 } }; 检查代码规范 在项目或工程的根目录打开CMD，使用如下语法检查指定文件 eslint --fix [file.js][dir] 例如 eslint --fix js\leave_timepicker.js 此操作会通过控制台输出检查出来的错误信息，错误信息包含行数以及错误的原因，但是不够智能，我们要达到在日常代码编辑的过程中达到提示和修复的功能，就需要将Eslint集成到Sublime Text编辑器啦 集成Sublime Text 在 Sublime Text 中你需要安装两个插件： 安装 SublimeLinter调出package control搜索SublimeLinter进行安装 安装 SublimeLinter-contrib-eslint调出package control搜索eslint安装即可，全名：SublimeLinter-contrib-eslint。注意：该插件只支持Sublime text 3 关闭编辑器，再打开编辑器, 导入项目。打开任意js文件，右键-&gt;SublimeLinter-&gt;LintMode-&gt;点击Save Only, 设置为在文件进行保存操作后检查的模式。 以上，请享用Eslint带来的便利。]]></content>
      <categories>
        <category>软件知识</category>
      </categories>
      <tags>
        <tag>Sublime Text</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nodejs 的安装和配置(Windows)]]></title>
    <url>%2F2017%2F07%2F12%2FNodejs%20%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE(Windows)%2F</url>
    <content type="text"><![CDATA[简单的说 Node.js 就是运行在服务端的 JavaScript。Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。Node.js 的包管理器 npm(node package manage)，是全球最大的开源库生态系统。 安装 下载nodejs下载完成后，双击“node-v6.9.2-x64.msi”，开始安装Node.js 直接点击【下一步】,记住安装路径(一般不安装在C盘，占内存),直至Node.js安装完成 打开cmd命令窗口，测试nodejs是否安装成功“node -v”, 测试npm是否安装成功“npm -v” 新版的Node.js已自带npm，安装Node.js时会一起安装，npm的作用就是对Node.js依赖的包进行管理，也可以理解为用来安装/卸载Node.js需要装的东西 安装完后的目录如下图所示： 环境配置说明: 这里的环境配置主要配置的是npm安装的全局模块所在的路径，以及缓存cache的路径，之所以要配置，是因为以后在执行类似：npm install bower [-g] （后面的可选参数-g，g代表global全局安装的意思）的安装语句时，会将安装的模块安装到【C:\Users\用户名\AppData\Roaming\npm】路径中，占C盘空间。 例如：我希望将全模块所在路径和缓存路径放在我node.js安装的文件夹中，则在我安装的文件夹【D:\Develop\nodejs】下创建两个文件夹【nodeg_lobal】及【node_cache】如下图： 创建完两个空文件夹之后，打开cmd命令窗口，输入： npm config set prefix &quot;D:\Develop\nodejs\node\_global&quot; npm config set cache &quot;D:\Develop\nodejs\node\_cache&quot; 接下来设置环境变量，关闭cmd窗口，“我的电脑”-右键-“属性”-“高级系统设置”-“高级”-“环境变量”进入环境变量对话框在【系统变量】下新建【NODE_PATH】，输入【D:\Develop\nodejs\node_global\node_modules】将【用户变量】下的【Path】修改为【D:\Develop\nodejs\node_global】 测试配置完后，安装个module测试下，我们就安装最常用的express模块，打开cmd窗口，输入如下命令进行模块的全局安装： npm install express -g NPM常用语法 npm -v&nbsp;&nbsp;检查版本，常用于测试是否安装成功 npm init初始化项目信息, 会引导你创建一个package.json文件（项目配置文件），包括名称、版本、作者这些信息等 npm install [-g] [–save-dev]安装插件-g&nbsp;全局安装–save&nbsp;保存配置信息至package.json–save-dev&nbsp;保存配置信息至package.json的devDependencies节点 npm uninstall [-g] [–save-dev]删除插件, 不要直接删除本地插件包文件，要使用命令删除 npm update [-g] [–save-dev]更新插件,不指定时更新全部 npm list&nbsp;&nbsp;查看当前目录下安装的node包npm list -g&nbsp;&nbsp; 查看全局安装的node包 选装CNPM NPM安装插件是从国外服务器下载的，会存在下载速度慢甚至下载失败的问题，来自国内淘宝团队开发管理的CNPM能解决此问题，CNPM同步NPM的频率为10分钟一次，CNPM和NPM的语法完全一致,。 CNPM官方地址 安装CNPM npm install cnpm -g--registry=https://registry.npm.taobao.org 安装完成后查看版本号cnpm -v或关闭命令提示符重新打开，否则会报错]]></content>
      <categories>
        <category>软件知识</category>
      </categories>
      <tags>
        <tag>Nodejs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[由一个疑似弱鸡引发的联想]]></title>
    <url>%2F2017%2F06%2F02%2F%E7%94%B1%E4%B8%80%E4%B8%AA%E7%96%91%E4%BC%BC%E5%BC%B1%E9%B8%A1%E5%BC%95%E5%8F%91%E7%9A%84%E8%81%94%E6%83%B3%2F</url>
    <content type="text"><![CDATA[我为什么会碰到一个疑似弱鸡，这似乎又是一个漫长的故事。想必人生来就是需要爱和自由的吧，从某一天起，你甘愿多一些奔波和劳累，让一些人变得越来越离不开；正好进入了白昼变长的时期，身体不再留恋多余的睡眠；正好进入了项目阶段性结业的时期，没有工作的时间只想奔向一个舒适的怀抱。 在这条奔向爱和自由的旅途中，我遇见了一个疑似弱鸡：那是一种在人群中会被无视的长相，扎进骨子里的自卑和盲目的自信。而他靠近的小姑娘，同样文静怯弱。我只是在思考：若我能有一大片空隙的空间看到他那么一个具有侵犯性的姿势，他怎么会失去一小点的脑容量去思考侧过身体避免一些生理反应。我就那样看着看着，也许是身边的空隙已经大到他再不移动已经说不过去了，也许他感受到了来自Danica的凝视，我无暇多想，小姑娘下车了，我看到她绯红的脸颊和一丝带着恨意的眼神。 地铁持续前行，疑似弱鸡也到站下车，眼角边似乎清净了，这个小插曲也被湮没在了拥挤的人流中，就像不曾发生过。 思绪泛滥，想到刚毕业的时候我去了北京，见过更拥挤的人流，经历过不疑似而肯定的弱鸡们，望着脚上的铆钉鞋，若是再遇见他们，我的铆钉们绝对会毫不犹豫的定位他们的裆部，用我这些年吸收的脏话大全，唾沫横飞的飚向他们的猥琐面孔，顺带两大耳刮子…然而我当时最厉害的不过也是一句对他母亲的问候，更多的时候憋屈的说不出话，泪水往肚子里吞。 生活已经把我变成了随身携带小刀片的女战士啦，看着车窗里倒映的自己的大脸盘子，笑了笑，这些个弱鸡们，真不是个东西，呸！]]></content>
      <categories>
        <category>life协奏曲</category>
      </categories>
      <tags>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[如何使用Git生成并配置SSH密钥]]></title>
    <url>%2F2017%2F06%2F01%2F%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Git%E7%94%9F%E6%88%90%E5%B9%B6%E9%85%8D%E7%BD%AESSH%E5%AF%86%E9%92%A5%2F</url>
    <content type="text"><![CDATA[前提安装git到本地，能在cmd中使用git命令行 步骤1.设置全局用户名和邮箱git config –global user.name “kakadanica”git config –global user.email “kakadanica.gmail.com”2.生成SSH密钥ssh-keygen -t rsa -C “kakadnaica@gmail.com”如果你之前有生成过，控制台会提示你already exist，并给你打印出密钥的地址，建议删除后重新生成。如果你之前未生成过，直接敲三个回车，密码为空，将会提示你生成成功并显示例如：Your identification has been saved in /c/Users/E450/.ssh/id_rsa.Your public key has been saved in /c/Users/E450/.ssh/id_rsa.pub.The key fingerprint is:3.添加密钥到github上找到id_rsa.pub文件，使用记事本打开，复制内容。登录GitHub，到https://github.com/settings/keys该页面中，新建new SSH Key。输入任意Title，将刚刚复制的内容粘贴到key中，保存提交。 结果在cmd中执行ssh git@github.com命令操作Are you sure you want to continue connecting (yes/no)? yesWarning: Permanently added ‘github.com,192.30.255.112’ (RSA) to the list of known hosts.PTY allocation request failed on channel 0Hi kakadanica! You’ve successfully authenticated, but GitHub does not provide shell access.Connection to github.com closed.如上，表示设置成功！]]></content>
      <categories>
        <category>软件知识</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[如何在cmd中执行git命令行操作]]></title>
    <url>%2F2017%2F06%2F01%2F%E5%A6%82%E4%BD%95%E5%9C%A8cmd%E4%B8%AD%E6%89%A7%E8%A1%8Cgit%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[此情况发生场景安装git时未勾选Windows Explorer integration,在需要操作git命令行时，找不到操作面板 解决方案：配置环境变量1) 新建系统变量 GIT_HOME:[git安装地址（例如：D:\Program Files\Git)]2) 编辑Path,新建“%GIT_HOME%\usr\bin”和“%GIT_HOME%\bin” 结果打开cmd,任意使用git命令进行需要的操作]]></content>
      <categories>
        <category>软件知识</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
</search>